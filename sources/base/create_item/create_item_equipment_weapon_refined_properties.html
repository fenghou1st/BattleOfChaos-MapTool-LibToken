[h: setProperty("tmp.item.create.equipment.weapon.tab", "refined_properties")]

[h, macro("get_item_equipment_weapon_properties@this"): "refined"]
[h: refined_properties = macro.return]

[h: row_style = "odd"]
<table class="striped" style="color:#999999; margin-top:10px">
    <tr style="color:#555555">
        <th colspan=3>精致特性 ([r: getProperty("tmp.item.create.equipment.weapon.properties.refined.reserved")])</th>
    </tr>
    [r, foreach(refined_property, refined_properties, ""), code:
    {
        <tr class="{row_style}">
            <td class="label" [r, if (getProperty("tmp.item.create.equipment.weapon.properties.refined." + refined_property) > 0): 'style="color:#555555; font-weight:bold"']>
                [h, macro("trans_item_equipment_weapon_property_refined@this"): refined_property]
                [r: macro.return]
            </td>
            <td>
                [r, if(getProperty("tmp.item.create.equipment.weapon.properties.refined.reserved") > 0):
                    strformat('<a style="color:#A07000" href="%s">[+]</a>',
                    macroLinkText("create_item@this", "none", "set_weapon_properties_refined=" + refined_property + ";data=+"))]
            </td>
            <td>
                [r, if(getProperty("tmp.item.create.equipment.weapon.properties.refined." + refined_property) > 0):
                    strformat('<a style="color:#707070" href="%s">[-]</a>',
                    macroLinkText("create_item@this", "none", "set_weapon_properties_refined=" + refined_property + ";data=-"))]
            </td>
        </tr>
        [h, if(row_style == "odd"): row_style = "even"; row_style = "odd"]
    }]
</table>
